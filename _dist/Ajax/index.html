
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://kit.fontawesome.com/2c38f3d850.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <link rel="icon" type="image/x-icon" href="https://d31uz8lwfmyn8g.cloudfront.net/Assets/favicon.png">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <title>Ajax | MÃ³dulo 2 - Frontend</title>
    

    

    <style>
      
    @font-face {
  font-family: "Avenir-Book";
  src: url(https://henry-social-resources.s3-sa-east-1.amazonaws.com/fonts/Avenir/Avenir-Book-01-995b34ab56b423abffe48e64bf8b8df1.ttf);
}

@font-face {
  font-family: "Avenir-Medium";
  src: url(https://henry-social-resources.s3-sa-east-1.amazonaws.com/fonts/Avenir/Avenir-Medium-09-7d635ea94b4460e86cd678e9e754a643.ttf);
}

@font-face {
  font-family: "Avenir-Roman";
  src: url(https://henry-social-resources.s3-sa-east-1.amazonaws.com/fonts/Avenir/Avenir-Roman-12-c6d37b26297461a78d10f169dd5cf46d.ttf);
}

@font-face {
  font-family: "Avenir-Light";
  src: url(https://henry-social-resources.s3-sa-east-1.amazonaws.com/fonts/Avenir/Avenir-Light-07-33f6570a328d84cb7d06e829a0c7ca1b.ttf);
}

@font-face {
  font-family: "Avenir-Heavy";
  src: url(https://henry-social-resources.s3.sa-east-1.amazonaws.com/fonts/Avenir/Avenir-Heavy-05-ff80b6894f8375c59a197caa24aac91c.ttf);
}

@font-face {
  font-family: "Avenir-Black";
  src: url(https://henry-social-resources.s3-sa-east-1.amazonaws.com/fonts/Avenir/Avenir-Black-03-968e784956ff9b6a05c29cc3be18cad0.ttf);
}

    .headerContainer {
    /* border: 2px dashed orange; */
    display: flex;
    justify-content: center;
    background-color: #000000;
    height: 68px;
    width: 100%;
    position: fixed;
    top: 0;
    left: 0;
    z-index: 999;
    box-shadow: 0 4px 4px rgba(0, 0, 0, 0.2);
  }
  
  .headerContained {
    /* border: 2px dashed red; */
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: 100%;
    max-width: 1500px;
    font-family: "Avenir-Roman";
    font-size: 16px;
    font-display: swap;
    line-height: 22px;
    padding: 0 30px 0 30px;
    z-index: 1000;
    color: #ffffff;
    background-color: #000000;
  }
  
  .headerContained .lessonTitle {
    font-family: "Avenir-Heavy";
    font-size: 16px;
    font-display: swap;
    line-height: 22px;
    color: #ffffff;
  }
    * {
    margin: 0px;
    padding: 0px;
    user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    -ms-user-select: none;
  }
  
  html {
    scroll-behavior: smooth;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  
  body {
    /* border: 2px dashed; */
    margin: auto;
    color: rgba(0, 0, 0, 0.87);
    background-color: #fafafa;
    display: flex;
    justify-content: center;
  }
  
  main {
    /* border: 2px dashed red; */
    max-width: 1500px;
    margin-top: 68px;
    display: flex;
    flex-direction: column;
  }
  
  .feedback {
    position: fixed;
    background: #ffff01;
    padding: 8px 16px;
    height: 40px;
    border-radius: 8px;
    bottom: 5px;
    left: 5px;
    z-index: 1200;
  }
  
  .feedback a {
    font-family: "Avenir-Black";
    font-size: 16px;
    font-display: swap;
    line-height: 24px;
    text-decoration: none;
    color: #000000;
    display: flex;
  }
    .topnav {
  /* border: 2px dashed blue; */
  display: flex;
  justify-items: end;
  justify-content: flex-end;
  padding-top: 5px;
  overflow: hidden;
  z-index: 10;
}

.topnav .activeLink {
  color: black;
  border-bottom: 3px solid black;
  border-radius: 0;
  text-decoration: none;
  font-family: 'Avenir-Medium';
  font-weight: 900;
  font-size: 16px;
  line-height: 22px;
}

.topnav a {
  font-family: 'Avenir-Medium';
  font-size: 16px;
  line-height: 22px;
  display: flex;
  align-items: center;
  color: black;
}

.topnav a:hover {
  color: grey;
}

.topnav .icon {
  display: none;
}

    .sidebar {
    /* border: 2px dashed blue; */
    position: fixed;
    width: 240px;
    margin-left: 8px;
    padding-top: 75px;
  }
  
  .sidebar .tocTitle {
    font-family: "Avenir-Black";
    font-style: normal;
    font-weight: 900;
    font-size: 18px;
    font-display: swap;
    line-height: 25px;
    display: flex;
    color: #000000;
    padding-left: 2px;
    justify-content: flex-start;
    border-bottom: 1px solid black;
  }
  
  .sidebar .tocBox {
    /* border: 2px dashed; */
    display: flex;
    max-height: calc(100vh - 240px);
    overflow-y: auto;
    font-family: "Avenir-Heavy";
    font-size: 16px;
    font-display: swap;
    line-height: 28px;
    color: #000000;
    margin-top: 1rem;
  }
  
  .sidebar a {
    color: black;
    text-decoration: none;
  }
  
  .sidebar a:hover {
    color: rgb(88, 80, 80);
  }
  
  .sidebar a:active {
    color: rgb(255, 238, 0);
  }
  
  .sidebar ul {
    /* border: 2px dashed; */
    list-style: none;
    margin-left: -1.5rem;
  }
  
  .sidebar li li {
    font-family: "Avenir-Roman";
    font-weight: normal;
    font-size: 16px;
    font-display: swap;
    line-height: 28px;
  }
    .lesson {
    /* border: 2px dashed green; */
    font-family: 'Avenir-Roman';
    font-size: 16px;
    font-display: swap;
    line-height: 18px;
    text-align: justify;
    padding: 0 2rem 4rem 300px;
    width: 100%;
    max-width: 98vw;
    margin-top: 60px;
  }
  
  .lesson .hide {
    display: none;
  }
  
  .lesson :target:before {
    content: '';
    display: block;
    height: 85px;
  }
  
  .lesson img[alt~='HenryLogo'] {
    display: none;
  }
  
  .lesson h1 {
    display: inline-block;
    font-family: 'Avenir-Black';
    font-size: 48px;
    font-display: swap;
    line-height: 66px;
    color: #2e2e2e;
  
    border-bottom-style: solid;
    border-bottom-width: 25px;
    border-bottom-color: #ffff01;
  
    height: 64px;
    margin: 0px 0 50px 0;
  }
  
  .lesson h1 + h4 {
    margin: -40px 0 3rem 0;
    font-family: 'Avenir-Black';
    font-size: 32px;
    font-display: swap;
    line-height: 32px;
  }
  
  .lesson h1 + h2 {
    margin-top: 0;
  }
  
  .lesson h2 {
    font-family: 'Avenir-Black';
    font-weight: 900;
    font-size: 32px;
    font-display: swap;
    line-height: 32px;
    text-align: left;
    color: #2e2e2e;
    margin-top: 3rem;
    margin-bottom: 1rem;
  }
  
  .lesson h2#homework {
    display: inline-block;
    font-family: 'Avenir-Black';
    font-size: 48px;
    font-display: swap;
    line-height: 66px;
    color: #1fa32a;
  }
  
  .lesson h3 {
    font-family: 'Avenir-Black';
    font-weight: 900;
    font-size: 24px;
    font-display: swap;
    line-height: 24px;
    text-align: left;
    color: #2e2e2e;
    margin-top: 2rem;
    margin-bottom: 1rem;
  }
  
  .lesson h4 {
    font-family: 'Avenir-Black';
    font-weight: 900;
    font-size: 18px;
    font-display: swap;
    line-height: 18px;
    text-align: left;
    color: #2e2e2e;
    margin-top: 2rem;
    margin-bottom: 1rem;
  }
  
  .lesson img {
    width: auto;
    max-width: 900px;
    height: auto;
    display: block;
    margin: auto;
    margin-top: 3rem;
    margin-bottom: 3rem;
    box-shadow: rgba(6, 24, 44, 0.4) 0px 0px 0px 2px,
      rgba(6, 24, 44, 0.65) 0px 4px 6px -1px,
      rgba(255, 255, 255, 0.08) 0px 1px 0px inset;
  }
  
  .lesson img[alt~='logo'] {
    box-shadow: none;
    width: 350px;
  }
  
  .lesson img[alt~='no-box'] {
    box-shadow: none;
  }
  
  .lesson ul {
    list-style: square;
  }
  
  .lesson li {
    font-family: 'Avenir-Heavy';
    font-size: 16px;
    font-display: swap;
    line-height: 22px;
  }
  
  .lesson a {
    font-family: 'Avenir-Black';
    font-size: 16px;
    font-display: swap;
  }
  
  .lesson .iframeContainer {
    position: relative;
    overflow: hidden;
    width: 100%;
    padding-top: 56.25%; /* 16:9 Aspect Ratio (divide 9 by 16 = 0.5625) */
    margin-top: 2rem;
    margin-bottom: 2rem;
    box-shadow: rgba(6, 24, 44, 0.4) 0px 0px 0px 2px,
      rgba(6, 24, 44, 0.65) 0px 4px 6px -1px,
      rgba(255, 255, 255, 0.08) 0px 1px 0px inset;
  }
  
  .lesson .sandboxContainer {
    position: relative;
    overflow: hidden;
    width: 100%;
    padding-top: 56.25%; /* 16:9 Aspect Ratio (divide 9 by 16 = 0.5625) */
    margin-top: 2rem;
    margin-bottom: 2rem;
  }
  
  /* Then style the iframe to fit in the container div with full height and width */
  .lesson iframe {
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    right: 0;
    width: 100%;
    height: 100%;
  }
  
  .lesson table {
    /* border: 1px solid black; */
    margin-bottom: 20px;
    margin-top: 40px;
    box-shadow: rgba(6, 24, 44, 0.4) 0px 0px 0px 2px,
      rgba(6, 24, 44, 0.65) 0px 4px 6px -1px,
      rgba(255, 255, 255, 0.08) 0px 1px 0px inset;
    text-align: center !important;
  }
  
  .lesson th {
    background-color: rgb(170, 170, 170);
    padding: 8px;
    text-align: center !important;
  }
  
  .lesson thead {
    text-align: center !important;
    border-bottom: 1px solid rgb(150, 150, 150);
  }
  
  .lesson td {
    padding: 5px;
    text-align: center !important;
  }
  
  tr + td {
    border-right: 1px solid gray !important;
  }
  
  .rightBox {
    /* border: 1px solid red; */
    position: absolute;
    display: flex;
    flex-direction: column;
    justify-content: right;
    align-items: flex-end;
    width: 97vw;
    max-width: 1500px;
    margin-top: 5rem;
    /* margin-bottom: 1rem; */
  }
  
  .homeworkBox {
    display: flex;
    align-items: center;
    text-align: center;
    justify-content: center;
    border: 1px solid #000000;
    border-top: none;
    box-sizing: border-box;
    width: 160px;
    height: 41px;
    padding: 1.1rem;
  }
  
  .homeworkBox:hover {
    background-color: rgb(230, 230, 230);
  }
  
  .homeworkBox a {
    text-decoration: none;
    font-family: 'Avenir-Black';
    font-size: 16px;
    font-display: swap;
    line-height: 119.6%;
    color: green;
  }
  
  .quizzBox {
    display: flex;
    align-items: center;
    text-align: center;
    justify-content: center;
    border: 1px solid #000000;
    border-top: none;
    box-sizing: border-box;
    width: 160px;
    height: 41px;
    padding: 1.1rem;
  }
  
  .quizzBox:hover {
    background-color: rgb(230, 230, 230);
  }
  
  .quizzBox a {
    text-decoration: none;
    font-family: 'Avenir-Black';
    font-size: 16px;
    font-display: swap;
    line-height: 119.6%;
    color: rgb(128, 79, 0);
  }
  
  .readingTime {
    font-family: 'Avenir-Book';
    font-size: 14px;
    font-display: swap;
    line-height: 119.6%;
    display: flex;
    align-items: center;
    text-align: center;
    border: 1px solid #000000;
    box-sizing: border-box;
    width: 160px;
    height: 41px;
    padding: 1.1rem;
  }
  
  
    code {
  font-family: Monospace;
  font-size: 15px;
  line-height: 24px;
  background-color: rgb(231, 231, 231);
  padding: 2px 7px;
}

pre[class*="language-"],
code[class*="language-"] {
  background: none;
  padding: 0;
  border-radius: 0.2rem;
  color: #d4d4d4;
  font-weight: normal;
  font-size: 14px;
  text-shadow: none;
  font-family: Menlo, Monaco, Consolas, "Andale Mono", "Ubuntu Mono",
    "Courier New", monospace;
  margin: auto;
  width: auto;
  direction: ltr;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  line-height: 1.5;
  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;
  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

pre[class*="language-"]::selection,
code[class*="language-"]::selection,
pre[class*="language-"] *::selection,
code[class*="language-"] *::selection {
  text-shadow: none;
  background: #264f78;
}

@media print {
  pre[class*="language-"],
  code[class*="language-"] {
    text-shadow: none;
  }
}

pre[class*="language-"] {
  padding: 1em;
  margin-bottom: 2rem;
  margin-top: 2rem;
  overflow: auto;
  background: #2e2e2e;
}

:not(pre) > code[class*="language-"] {
  padding: 0.1em 0.3em;
  border-radius: 0.3em;
  color: #db4c69;
  background: #1e1e1e;
}
/*********************************************************
* Tokens
*/
.namespace {
  opacity: 0.7;
}

.token.doctype .token.doctype-tag {
  color: #569cd6;
}

.token.doctype .token.name {
  color: #9cdcfe;
}

.token.comment,
.token.prolog {
  color: #6a9955;
}

.token.punctuation,
.language-html .language-css .token.punctuation,
.language-html .language-javascript .token.punctuation {
  color: #d4d4d4;
}

.token.property,
.token.tag,
.token.boolean,
.token.number,
.token.constant,
.token.symbol,
.token.inserted,
.token.unit {
  color: #b5cea8;
}

.token.selector,
.token.attr-name,
.token.string,
.token.char,
.token.builtin,
.token.deleted {
  color: #ce9178;
}

.language-css .token.string.url {
  text-decoration: underline;
}

.token.operator,
.token.entity {
  color: #d4d4d4;
}

.token.operator.arrow {
  color: #569cd6;
}

.token.atrule {
  color: #ce9178;
}

.token.atrule .token.rule {
  color: #c586c0;
}

.token.atrule .token.url {
  color: #9cdcfe;
}

.token.atrule .token.url .token.function {
  color: #dcdcaa;
}

.token.atrule .token.url .token.punctuation {
  color: #d4d4d4;
}

.token.keyword {
  color: #569cd6;
}

.token.keyword.module,
.token.keyword.control-flow {
  color: #c586c0;
}

.token.function,
.token.function .token.maybe-class-name {
  color: #dcdcaa;
}

.token.regex {
  color: #d16969;
}

.token.important {
  color: #569cd6;
}

.token.italic {
  font-style: italic;
}

.token.constant {
  color: #9cdcfe;
}

.token.class-name,
.token.maybe-class-name {
  color: #4ec9b0;
}

.token.console {
  color: #9cdcfe;
}

.token.parameter {
  color: #9cdcfe;
}

.token.interpolation {
  color: #9cdcfe;
}

.token.punctuation.interpolation-punctuation {
  color: #569cd6;
}

.token.boolean {
  color: #569cd6;
}

.token.property,
.token.variable,
.token.imports .token.maybe-class-name,
.token.exports .token.maybe-class-name {
  color: #9cdcfe;
}

.token.selector {
  color: #d7ba7d;
}

.token.escape {
  color: #d7ba7d;
}

.token.tag {
  color: #569cd6;
}

.token.tag .token.punctuation {
  color: #808080;
}

.token.cdata {
  color: #808080;
}

.token.attr-name {
  color: #9cdcfe;
}

.token.attr-value,
.token.attr-value .token.punctuation {
  color: #ce9178;
}

.token.attr-value .token.punctuation.attr-equals {
  color: #d4d4d4;
}

.token.entity {
  color: #569cd6;
}

.token.namespace {
  color: #4ec9b0;
}
/*********************************************************
* Language Specific
*/

pre[class*="language-javascript"],
code[class*="language-javascript"],
pre[class*="language-jsx"],
code[class*="language-jsx"],
pre[class*="language-typescript"],
code[class*="language-typescript"],
pre[class*="language-tsx"],
code[class*="language-tsx"] {
  color: #9cdcfe;
}

pre[class*="language-css"],
code[class*="language-css"] {
  color: #ce9178;
}

pre[class*="language-html"],
code[class*="language-html"] {
  color: #d4d4d4;
}

.language-regex .token.anchor {
  color: #dcdcaa;
}

.language-html .token.punctuation {
  color: #808080;
}
/*********************************************************
* Line highlighting
*/
pre[class*="language-"] > code[class*="language-"] {
  position: relative;
  z-index: 1;
}

.line-highlight.line-highlight {
  background: #f7ebc6;
  box-shadow: inset 5px 0 0 #f7d87c;
  z-index: 0;
}

    div.footerContainer {
  /* border: 2px dashed blue; */
  background-color: #000000;
  position: absolute;
  left: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 50px;
  width: 100%;
  z-index: 20;
}

div.footerContained {
  /* border: 2px dashed red; */
  display: flex;
  justify-content: center;
  color: rgb(240, 240, 240);
  position: absolute;
  font-family: "Avenir-Black";
  font-size: 18px;
  line-height: 33px;
  width: 100%;
  max-width: 1500px;
  z-index: 20;
}

div.footerContained p {
  margin-bottom: 0;
}

    .headerResponsive {
  position: fixed;
  display: none;
  width: 100%;
  color: white;
  align-items: center;
  background: #000000;
  min-height: 48px;
  height: 40px;
  z-index: 999;
  box-shadow: 0 4px 4px rgba(0, 0, 0, 0.2);
}

.headerResponsive .leftContent {
  display: flex;
  padding-left: 12px;
  justify-content: space-between;
  margin-right: 60px;
}

.headerResponsive .menuDiv {
  align-items: center;
  align-self: center;
  margin: auto;
}

.headerResponsive .menuDiv a {
  color: inherit;
  text-decoration: none;
  display: block;
  padding: 10px;
  background: #000000;
  width: 100%;
}

.headerResponsive input[type='checkbox'],
.headerResponsive .fa-bars,
.headerResponsive .fa-times {
  position: absolute;
  box-sizing: border-box;
  right: 3px;
  top: 7px;
  width: 48px;
  height: 48px;
}

.headerResponsive .menuDiv ul {
  list-style-type: none;
  padding: 0;
}

.headerResponsive .menuDiv li {
  border-bottom: 1px solid gray;
}

.headerResponsive .menuDiv a {
  text-align: center;
}

.headerResponsive .fa-bars,
.headerResponsive .fa-times {
  font-size: 32px;
  pointer-events: none;
  text-align: center;
}

.headerResponsive .menuDiv input[type='checkbox'] {
  opacity: 0;
}

.headerResponsive .menuDiv nav {
  display: none;
}

.headerResponsive .menuDiv input:checked ~ nav {
  display: block;
}

.headerResponsive .menuDiv input:checked ~ .fa-bars {
  display: none;
}

.headerResponsive .menuDiv input:not(:checked) ~ .fa-times {
  display: none;
}

@media screen and (max-width: 1000px) {
  .sidebar {
    display: none;
  }

  .topnav ul {
    display: none;
  }

  .headerContainer {
    display: none;
    height: 40px;
  }

  main {
    margin-top: 30px;
  }

  .lesson {
    padding-left: 8px;
    padding-right: 8px;
    /* width: 100vw; */
    max-width: 100vw;
    line-height: 22px;
    text-align: left;
  }

  .rightBox {
    position: relative;
    flex-direction: row;
    margin-top: 2rem;
    margin-left: 8px;
    justify-content: left;
  }

  .quizzBox {
    border-left: none;
    border-top: 1px solid;
  }

  .homeworkBox {
    border-left: none;
    border-top: 1px solid;
  }

  .lesson img {
    max-width: 95vw;
  }

  .lesson ul {
    padding-left: 15px;
  }

  /* .lesson .readingTime {
    margin-top: 25px;
    margin-bottom: -20px;
  } */

  .readerBarDiv {
    display: none;
  }

  .feedback {
    z-index: 10;
  }

  .headerResponsive {
    display: block;
  }

  .headerResponsive .leftContent {
    padding-top: 12px;
  }
}

@media screen and (max-width: 361px) {
  .lesson h1 {
    font-size: 32px;
  }

  .lesson h1 + h4 {
    font-size: 24px;
  }

  .lesson h2 {
    font-size: 24px;
  }
}

    
    </style>

  </head>

  <body>
    <div class="reader-bar-start">

      <div class="headerResponsive">
        <div class="leftContent">
          <span><img src="https://d31uz8lwfmyn8g.cloudfront.net/Assets/logo-henry-white-sm.png" alt='logo Henry' height=22px class="d-inline-block align-text-top"></span><span>Ajax</span>
        </div>
        <div class="menuDiv">
          <input type="checkbox">
          <i class="fas fa-bars"></i>
          <i class="fas fa-times"></i>
          <nav>
            <ul><li><a href="/">Intro</a></li>
<li><a href="/DOM/">DOM</a></li>
<li><a href="/CSS/">CSS</a></li>
<li><a href="/ES6/">ES6</a></li>
<li><a href="/Ajax/">Ajax</a></li>
<li><a href="/Bundlers/">Bundlers</a></li>
<li><a href="/React-Intro/">React</a></li>
<li><a href="/React-Estilos/">React-Estilos</a></li>
<li><a href="/React-Estado-LifeCycle/">React-LifeCycle</a></li>
<li><a href="/React-Routing/">React-Routing</a></li>
<li><a href="/React-Forms/">Forms</a></li>
<li><a href="/Redux/">Redux</a></li>
<li><a href="/React-Redux/">React-Redux</a></li>
<li><a href="/React-Hooks/">Hooks</a></li></ul>
          </nav>
        </div>
      </div>

      <div class="headerContainer">
        <div class="headerContained">
          <img src="https://d31uz8lwfmyn8g.cloudfront.net/Assets/logo-henry-white-sm.png" alt='logo Henry' height=27px class="d-inline-block align-text-top">
          <div>
            <span class="lessonTitle">Ajax</span> | <span>MÃ³dulo 2 - Frontend</span>
          </div>
        </div>
      </div>

      <main>
        <div class="topnav" id='myTopnav' >
          
          <ul class="nav">
      
      <li class="link">
        <a href="/" class="nav-link" role="menuitem">Intro</a>
      </li>
<li class="link">
        <a href="/DOM/" class="nav-link" role="menuitem">DOM</a>
      </li>
<li class="link">
        <a href="/CSS/" class="nav-link" role="menuitem">CSS</a>
      </li>
<li class="link">
        <a href="/ES6/" class="nav-link" role="menuitem">ES6</a>
      </li>
<li class="link">
        <span class="nav-link activeLink" tabindex="-1" aria-current="true">Ajax</span>
      </li>
<li class="link">
        <a href="/Bundlers/" class="nav-link" role="menuitem">Bundlers</a>
      </li>
<li class="link">
        <a href="/React-Intro/" class="nav-link" role="menuitem">React</a>
      </li>
<li class="link">
        <a href="/React-Estilos/" class="nav-link" role="menuitem">React-Estilos</a>
      </li>
<li class="link">
        <a href="/React-Estado-LifeCycle/" class="nav-link" role="menuitem">React-LifeCycle</a>
      </li>
<li class="link">
        <a href="/React-Routing/" class="nav-link" role="menuitem">React-Routing</a>
      </li>
<li class="link">
        <a href="/React-Forms/" class="nav-link" role="menuitem">Forms</a>
      </li>
<li class="link">
        <a href="/Redux/" class="nav-link" role="menuitem">Redux</a>
      </li>
<li class="link">
        <a href="/React-Redux/" class="nav-link" role="menuitem">React-Redux</a>
      </li>
<li class="link">
        <a href="/React-Hooks/" class="nav-link" role="menuitem">Hooks</a>
      </li>
    </ul>
        </div>

        <div class='sidebar'>
          <div class="tocTitle">
            Contenido de la clase
            </div>
          <div class="tocBox">
            
            <nav class="toc" >
        <ul><li><a href="#que-es-ajax%3F">Que es  AJAX? </a><ul><li><a href="#en-que-se-basa-ajax-%3F">En que se basa Ajax ? </a></li><li><a href="#las-tecnolog%C3%ADas-que-forman-ajax-son">Las tecnologÃ­as que forman AJAX son </a></li><li><a href="#para-que-necesitamos-ajax%3F">Para que necesitamos Ajax? </a></li><li><a href="#como-crear-una-solicitud-post">Como crear una solicitud POST </a></li><li><a href="#como-crear-una-solicitud-get">Como crear una solicitud GET </a></li></ul></li><li><a href="#eventos-en-javascript">Eventos en javascript </a></li><li><a href="#event-loop">Event Loop </a><ul><li><a href="#call-stack">Call Stack </a></li><li><a href="#event-loop-1">Event Loop </a></li></ul></li><li><a href="#homework">Homework </a></li></ul>
      </nav>
          </div>
        </div>

        <div class='rightBox'>
          <div class="readingTime">
                    Tiempo de lectura 32 min
          </div>
          
            <div class='quizzBox'>
              <a href='https://quiz.soyhenry.com/evaluation/new/60709537656c8d23c2e6104b' target='blank'>Quizz ð</a>
            </div>
          

          
            <div class='homeworkBox'>
              <a href=https://github.com/soyHenry/FT-M2/blob/master/04-Ajax/homework/README.md target='blank'>Homework ð</a>
            </div>
          
        </div>

        <div class='lesson'>
          
          <p><img src="https://d31uz8lwfmyn8g.cloudfront.net/Assets/logo-henry-white-lg.png" alt="HenryLogo"></p>
<table class="hide" width="100%" style='table-layout:fixed;'>
  <tr>
   <td>
    <a href="https://airtable.com/shrHsDa2eamWqLAre?prefill_clase=04-Ajax">
   <img src="https://static.thenounproject.com/png/204643-200.png" width="100"/>
   <br>
   HacÃ© click acÃ¡ para dejar tu feedback sobre esta clase.
    </a>
   </td>
              <td>
      <a href="https://quiz.soyhenry.com/evaluation/new/60709537656c8d23c2e6104b">
        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/1/1f/HSQuiz.svg/768px-HSQuiz.svg.png" width="100" height="100"/>
        <br>
        HacÃ© click acÃ¡ completar el quiz teÃ³rico de esta lecture.
      </a>
   </td>
  </tr>
</table>
<h1 id="ajax" tabindex="-1">AJAX <a class="anchor-link" href="#ajax"></a></h1>
<h2 id="que-es-ajax%3F" tabindex="-1">Que es  AJAX? <a class="anchor-link" href="#que-es-ajax%3F"></a></h2>
<p>AJAX son las siglas de Asynchronous JavaScript and XML. XML es raramente relevante, pero cuando desarrollamos aplicaciones web, usamos Ajax para hacer cosas asincrÃ³nicas como actualizar una pÃ¡gina, hacer acciones, etc.</p>
<p>En resumen, AJAX se trata de actualizar partes de una pÃ¡gina web sin tener que recargar toda la web. Eso es muy Ãºtil si tu sitio web es grande , no querrÃ¡ que tus usuarios tengan que cargar la misma informaciÃ³n varias veces.</p>
<h3 id="en-que-se-basa-ajax-%3F" tabindex="-1">En que se basa Ajax ? <a class="anchor-link" href="#en-que-se-basa-ajax-%3F"></a></h3>
<p>AJAX se basa en un montÃ³n de tecnologÃ­as. No tienes que ser un experto en todas ellas pero un poco de conocimiento de fondo serÃ¡ Ãºtil. Esto deberÃ­a darte los antecedentes suficientes para que te hagas una  idea de AJAX.</p>
<h3 id="las-tecnolog%C3%ADas-que-forman-ajax-son" tabindex="-1">Las tecnologÃ­as que forman AJAX son <a class="anchor-link" href="#las-tecnolog%C3%ADas-que-forman-ajax-son"></a></h3>
<ul>
<li>XHTML y CSS, para crear una presentaciÃ³n basada en estÃ¡ndares.</li>
<li>DOM, para la interacciÃ³n y manipulaciÃ³n dinÃ¡mica de la presentaciÃ³n.</li>
<li>XML, XSLT y JSON, para el intercambio y la manipulaciÃ³n de informaciÃ³n.</li>
<li>XMLHttpRequest, para el intercambio asÃ­ncrono de informaciÃ³n.</li>
<li>JavaScript, para unir todas las demÃ¡s tecnologÃ­as.</li>
</ul>
<h3 id="para-que-necesitamos-ajax%3F" tabindex="-1">Para que necesitamos Ajax? <a class="anchor-link" href="#para-que-necesitamos-ajax%3F"></a></h3>
<p>Piensa en toda tu aplicaciÃ³n web como un restaurante de comida rÃ¡pida. TÃº eres el cajero, la persona en las primeras lÃ­neas. Manejas las <strong>solicitudes</strong> de los cliente</p>
<p><img src="/_src/assets/04-Ajax/image-1.png" alt="no-box"></p>
<p>Si miras este diagrama, puedo ver tres trabajos separados que deben hacerse.</p>
<ol>
<li>El cajero debe manejar las solicitudes de los usuarios a un ritmo rÃ¡pido.</li>
<li>Necesita que los cocineros tiren las hamburguesas a la parrilla y cocinen toda la comida.</li>
<li>Necesitas un equipo de preparaciÃ³n de comida para empaquetar la comida y ponerla en una bolsa o en una bandeja.</li>
</ol>
<p>Sin embargo, si no tuvieras AJAX, sÃ³lo se te permitirÃ­a procesar un pedido a la vez de principio a fin! TendrÃ­as que tomar el pedidoâ¦ luego cobrar al clienteâ¦ luego sentarte ahÃ­ sin hacer nada mientras la gente en la cocina cocina cocina la comidaâ¦ y luego seguir esperando mientras el equipo de preparaciÃ³n de la comida la empaqueta. SÃ³lo podrÃ­as tomar el siguiente pedido despuÃ©s de todo eso.</p>
<p><img src="/_src/assets/04-Ajax/image-2.png" alt="no-box"></p>
<p>Eso es una mala experiencia para el usuario! Ya no podrÃ­as llamarlo âcomida rÃ¡pidaâ. En su lugar, tendrÃ­as que llamarlo âcomida mediocreââ¦ o algo asÃ­.</p>
<p>AJAX permite un <strong>modelo de procesamiento asincrÃ³nico</strong>. Eso significa que puedes pedir datos o enviarlos sin cargar la pÃ¡gina entera. Esto es como la forma en que funciona un restaurante de comida rÃ¡pida normal. Como cajero, tomas el pedido del cliente, lo envÃ­as al equipo de cocina, y te preparas para tomar el siguiente pedido del cliente.</p>
<p>Los clientes pueden seguir haciendo pedidos, y no es necesario sentarse allÃ­ mientras los empleados de la cocina trabajan y hacen esperar a todo el mundo.</p>
<p>Esto ciertamente introduce cierta complejidad. Ahora tienes mÃºltiples especializaciones dentro del restaurante. AdemÃ¡s, los pedidos se estÃ¡n manejando a ritmos diferentes. Pero, crea una experiencia de usuario mucho mejor.</p>
<p><img src="/_src/assets/04-Ajax/image-3.png" alt="no-box"></p>
<p>Probablemente has  visto esto en acciÃ³n en un restaurante. Una persona estÃ¡ trabajando en la mÃ¡quina de papas fritas. Una persona estÃ¡ manejando la parrilla. Cuando llega un pedido, el cajero puede comunicarse instantÃ¡neamente con ambos y volver a tomar los pedidos.</p>
<h3 id="como-crear-una-solicitud-post" tabindex="-1">Como crear una solicitud POST <a class="anchor-link" href="#como-crear-una-solicitud-post"></a></h3>
<p>Pongamos estos conceptos a trabajar. Como cajera, debes enviar las solicitudes de los clientes a la cocina para que el resto de tu equipo pueda preparar la comida. Puedes hacer eso con la solicitud POST.</p>
<p>En tu cÃ³digo real, una solicitud POST envÃ­a datos a tu servidor. Eso significa que estÃ¡s enviando los datos del pedido al back-end, en este caso.</p>
<p>Tiene tres partes principales:</p>
<ol>
<li><strong>Una URL</strong>: esta es la ruta que seguirÃ¡ la solicitud. MÃ¡s en un minuto.</li>
<li><strong>Datos</strong>: cualquier parÃ¡metro extra que necesites enviar al servidor.</li>
<li><a href="https://blog.codeanalogies.com/2016/04/11/javascript-callbacks-explained-using-minions/"><strong>Callback</strong></a>: Lo que pasa despuÃ©s de que hayas enviado la solicitud</li>
</ol>
<p>Â¿CuÃ¡les son algunas de las cosas comunes que la gente pide en un restaurante de comida rÃ¡pida? Veamos dos ejemplos:</p>
<ol>
<li>Papas Fritas</li>
<li>Un combo de una hamburguesa, papas fritas y una bebida</li>
</ol>
<p>Estos dos requieren procesos diferentes. Una solicitud de papas fritas podrÃ­a necesitar sÃ³lo una persona para meter algunas papas fritas en una manga. Pero un pedido de comida combinada requerirÃ¡ el trabajo de varios miembros del equipo. Por lo tanto, estos dos necesitan diferentes URLs.</p>
<pre class="language-js"><code class="hljs language-js">$<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/comboMeal'</span><span class="token punctuation">)</span>$<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/fries'</span><span class="token punctuation">)</span></code></pre>
<p>La URL nos permite usar la misma lÃ³gica en el back-end para ciertos tipos de solicitudes. Esa parte estÃ¡ fuera del alcance de este tutorial, por lo que puedes profundizar un poco mÃ¡s en ella cuando mires el back-end.</p>
<p>Lo siguiente es la <strong>data</strong>. Este es un <a href="https://blog.codeanalogies.com/2017/04/29/javascript-arrays-and-objects-are-just-like-books-and-newspapers/">objeto</a> que nos dice un poco mÃ¡s sobre la peticiÃ³n. Para la URL de la comida combinada, probablemente necesitamos saber:</p>
<ol>
<li>El tipo de comida principal</li>
<li>El tipo de bebida</li>
<li>El precio</li>
<li>Cualquier peticiÃ³n especial</li>
</ol>
<p>Por las papas fritas, puede que sÃ³lo necesitemos saberlo:</p>
<ol>
<li>El tamaÃ±o de las patatas</li>
<li>El precio</li>
</ol>
<p><img src="/_src/assets/04-Ajax/image-4.png" alt="no-box"></p>
<p>Veamos un ejemplo de un combo de: una hamburguesa con queso con una Pepsi que cuesta 6 dÃ³lares. Esto es lo que parece en JavaScript.</p>
<pre class="language-js"><code class="hljs language-js"><span class="token keyword">let</span> order <span class="token operator">=</span> <span class="token punctuation">{</span><br>  <span class="token literal-property property">mainMeal</span><span class="token operator">:</span> <span class="token string">'cheeseburger'</span><span class="token punctuation">,</span><br>  <span class="token literal-property property">drink</span><span class="token operator">:</span> <span class="token string">'Pepsi'</span><span class="token punctuation">,</span><br>  <span class="token literal-property property">price</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span> <br>  <span class="token literal-property property">exceptions</span><span class="token operator">:</span> <span class="token string">''</span> <br><span class="token punctuation">}</span><span class="token punctuation">;</span>$<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/comboMeal'</span><span class="token punctuation">,</span> order<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>La variable <em>orden</em> contiene el contenido del orden. Y luego lo incluimos en el pedido POST para que nuestro personal de cocina sepa quÃ© diablos poner en el combo de comida!</p>
<p>Â¡Pero no podemos hacer que todo este cÃ³digo se ejecute al azar! Necesitamos un evento de activaciÃ³n que active la solicitud. En este caso, un pedido de un cliente en un restaurante de comida rÃ¡pida es como una persona que hace clic en un botÃ³n de âpedidoâ en su sitio web. Podemos usar el evento <a href="https://api.jquery.com/click/">click()</a> de jQuery para ejecutar el POST cuando el usuario hace clic en un botÃ³n.</p>
<pre class="language-js"><code class="hljs language-js"><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <br>  <span class="token keyword">let</span> order <span class="token operator">=</span> <span class="token punctuation">{</span> <br>    <span class="token literal-property property">mainMeal</span><span class="token operator">:</span> <span class="token string">'cheeseburger'</span><span class="token punctuation">,</span><br>    <span class="token literal-property property">drink</span><span class="token operator">:</span> <span class="token string">'Pepsi'</span><span class="token punctuation">,</span> <br>    <span class="token literal-property property">price</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span> <br>    <span class="token literal-property property">exceptions</span><span class="token operator">:</span> <span class="token string">''</span> <br>  <span class="token punctuation">}</span><span class="token punctuation">;</span><br> <br>  $<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/comboMeal'</span><span class="token punctuation">,</span> order<span class="token punctuation">)</span><span class="token punctuation">;</span> <br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>La Ãºltima parte. Tenemos que decirle algo al cliente despuÃ©s de que su pedido haya sido enviado. Los cajeros suelen decir âÂ¡El prÃ³ximo cliente por favor!â ya que este es un restaurante de comida rÃ¡pida, asÃ­ que podemos usar eso dentro de la llamada para mostrar que el pedido ha sido enviado.</p>
<pre class="language-js"><code class="hljs language-js"><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <br>   <span class="token keyword">let</span> order <span class="token operator">=</span> <span class="token punctuation">{</span><br>     <span class="token literal-property property">mainMeal</span><span class="token operator">:</span> <span class="token string">'cheeseburger'</span><span class="token punctuation">,</span><br>     <span class="token literal-property property">drink</span><span class="token operator">:</span> <span class="token string">'Pepsi'</span><span class="token punctuation">,</span><br>     <span class="token literal-property property">price</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span><br>     <span class="token literal-property property">exceptions</span><span class="token operator">:</span> <span class="token string">''</span> <br>   <span class="token punctuation">}</span><span class="token punctuation">;</span>$<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/comboMeal'</span><span class="token punctuation">,</span> order<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><br>     <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'Next customer please!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <br><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>
<h3 id="como-crear-una-solicitud-get" tabindex="-1">Como crear una solicitud GET <a class="anchor-link" href="#como-crear-una-solicitud-get"></a></h3>
<p>Hasta ahora, tenemos la capacidad de presentar una orden. Ahora, necesitamos una forma de entregar ese pedido a nuestro cliente.</p>
<p>AquÃ­ es donde entran las solicitudes  GET. GET nos permite solicitar datos del servidor (o de la cocina, esta analogÃ­a). Tenga en cuenta: en este momento, nuestra base de datos estÃ¡ llena de pedidos, no la comida en sÃ­. Esta es una distinciÃ³n importante porque las solicitudes de GET no cambian nuestra base de datos. SÃ³lo entregan esa informaciÃ³n al front-end. Las solicitudes POST cambian la informaciÃ³n de la base de datos.</p>
<p>Estas son algunas de las preguntas tÃ­picas que te pueden hacer antes de recibir tu comida.</p>
<ol>
<li>Â¿Te gustarÃ­a comer aquÃ­ o recibir la comida para llevar?</li>
<li>Â¿Necesitas algÃºn condimento (como ketchup o mostaza)?</li>
<li>Â¿CuÃ¡l es tu nÃºmero en el recibo (para verificar que es tu comida)?</li>
</ol>
<p>Digamos que ordenÃ³ tres comidas compuestas para su familia. Quieres comer la comida en el restaurante. Necesitas ketchup. Y el nÃºmero en su recibo es 191.</p>
<p>Podemos crear una solicitud GET con una URL de â/comboMealâ, que corresponde a la solicitud POST junto con la misma URL. Sin embargo, esta vez necesitamos datos diferentes. Es un tipo de solicitud totalmente diferente. El mismo nombre de URL sÃ³lo nos permite organizar mejor nuestro cÃ³digo.</p>
<pre class="language-js"><code class="hljs language-js"><span class="token keyword">let</span> meal <span class="token operator">=</span> <span class="token punctuation">{</span><br>  <span class="token literal-property property">location</span><span class="token operator">:</span> <span class="token string">'here'</span><span class="token punctuation">,</span><br>  <span class="token literal-property property">condiments</span><span class="token operator">:</span> <span class="token string">'ketchup'</span><span class="token punctuation">,</span><br>  <span class="token literal-property property">receiptID</span><span class="token operator">:</span> <span class="token number">191</span> <br><span class="token punctuation">}</span><span class="token punctuation">;</span>$<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/comboMeal'</span><span class="token punctuation">,</span> meal<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p><img src="/_src/assets/04-Ajax/image-5.png" alt="no-box"></p>
<p>TambiÃ©n necesitamos un disparador para este. Esta solicitud se activa cuando los clientes responden a tus preguntas como cajero antes de que les entregues la comida. No hay una forma conveniente de representar las preguntas y respuestas con JavaScript. AsÃ­ que voy a crear otro evento de clic para el botÃ³n con la clase ârespuestaâ.</p>
<pre class="language-js"><code class="hljs language-js"><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.answer'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><br>  <span class="token keyword">let</span> meal <span class="token operator">=</span> <span class="token punctuation">{</span><br>     <span class="token literal-property property">location</span><span class="token operator">:</span> <span class="token string">'here'</span><span class="token punctuation">,</span><br>     <span class="token literal-property property">condiments</span><span class="token operator">:</span> <span class="token string">'ketchup'</span><span class="token punctuation">,</span><br>     <span class="token literal-property property">idNumber</span><span class="token operator">:</span> <span class="token number">191</span><span class="token punctuation">,</span> <br>  <span class="token punctuation">}</span><span class="token punctuation">;</span>$<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/comboMeal'</span><span class="token punctuation">,</span> meal<span class="token punctuation">)</span><span class="token punctuation">;</span> <br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p><img src="/_src/assets/04-Ajax/image-6.png" alt="no-box"></p>
<p>Este tambiÃ©n necesita una funciÃ³n de devoluciÃ³n de llamada, porque vamos a recibir lo que estaba contenido en las tres comidas compuestas en el orden 191. Podemos recibir esos datos a travÃ©s de un parÃ¡metro de <em>datos</em> en nuestra llamada de retorno.</p>
<p>Esto nos devolverÃ¡ lo que sea que la retrollamada estipule para la orden 191. Voy a usar una funciÃ³n llamada <em>comer</em> para significar que eventualmente se puede comer la comida, pero ten en cuenta que no hay una funciÃ³n de comer en JavaScript!</p>
<pre class="language-js"><code class="hljs language-js"><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.answer'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><br>   <span class="token keyword">let</span> meal <span class="token operator">=</span> <span class="token punctuation">{</span><br>     <span class="token literal-property property">location</span><span class="token operator">:</span> <span class="token string">'here'</span><span class="token punctuation">,</span><br>     <span class="token literal-property property">condiments</span><span class="token operator">:</span> <span class="token string">'ketchup'</span><span class="token punctuation">,</span><br>     <span class="token literal-property property">idNumber</span><span class="token operator">:</span> <span class="token number">191</span><span class="token punctuation">,</span> <br>   <span class="token punctuation">}</span><span class="token punctuation">;</span><br> <br>  <span class="token comment">//data contains the data from the server </span><br>  $<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/comboMeal'</span><span class="token punctuation">,</span> meal<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <br>     <span class="token comment">//eat is a made-up function but you get the point </span><br>     <span class="token function">eat</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span> <br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>El producto final, <em>datos</em>, contendrÃ­a el contenido de las tres comidas combinadas, teÃ³ricamente. Â¡Depende de cÃ³mo estÃ© escrito en el backend!</p>
<p><img src="/_src/assets/04-Ajax/image-7.png" alt="no-box"></p>
<h2 id="eventos-en-javascript" tabindex="-1">Eventos en javascript <a class="anchor-link" href="#eventos-en-javascript"></a></h2>
<p>Como se mencionÃ³ anteriormente, los <strong>eventos</strong> son acciones u ocurrencias que suceden en el sistema que estÃ¡ programando â el sistema dispararÃ¡ una seÃ±al de algÃºn tipo cuando un evento ocurra y tambiÃ©n proporcionarÃ¡ un mecanismo por el cual se puede tomar algÃºn tipo de acciÃ³n automÃ¡ticamente (p.e., ejecutando algÃºn cÃ³digo) cuando se produce el evento. Por ejemplo, en un aeropuerto cuando la pista estÃ¡ despejada para que despegue un aviÃ³n, se comunica una seÃ±al al piloto y, como resultado, comienzan a pilotar el aviÃ³n.</p>
<p>En el caso de la Web, los eventos se desencadenan dentro de la ventana del navegador y tienden a estar unidos a un elemento especÃ­fico que reside en ella â podrÃ­a ser un solo elemento, un conjunto de elementos, el documento HTML cargado en la pestaÃ±a actual o toda la ventana del navegador. Hay muchos tipos diferentes de eventos que pueden ocurrir, por ejemplo:</p>
<ul>
<li>El usuario hace clic con el mouse sobre un elemento determinado o coloca el cursor sobre un elemento determinado.</li>
<li>El usuario presiona una tecla en el teclado.</li>
<li>El usuario cambia el tamaÃ±o o cierra la ventana del navegador.</li>
<li>Una pÃ¡gina web termina de cargar.</li>
<li>Un formulario se envÃ­a</li>
<li>Un video se reproduce, pausa o finaliza la reproducciÃ³n.</li>
<li>Un error ocurre.</li>
</ul>
<p>Se deducirÃ¡ de esto (y echar un vistazo a MDN <a href="https://developer.mozilla.org/es/docs/Web/Events">Referencia de eventos</a>) que hay <strong>muchos</strong> eventos a los que se puede responder.</p>
<p>Cada evento disponible tiene un <strong>controlador de eventos</strong>, que es un bloque de cÃ³digo (generalmente una funciÃ³n JavaScript definida por el usuario) que se ejecutarÃ¡ cuando se active el evento. Cuando dicho bloque de cÃ³digo se define para ejecutarse en respuesta a un disparo de evento, decimos que estamos <strong>registrando un controlador de eventos</strong>. Tenga en cuenta que los controladores de eventos a veces se llaman <strong>oyentes de eventos</strong> â son bastante intercambiables para nuestros propÃ³sitos, aunque estrictamente hablando, trabajan juntos. El oyente escucha si ocurre el evento y el controlador es el cÃ³digo que se ejecuta en respuesta a que ocurra.</p>
<p>Veamos un ejemplo simple para explicar lo que queremos decir aquÃ­. Ya has visto eventos y controladores de eventos en muchos de los ejemplos de este curso, pero vamos a recapitular solo para consolidar nuestro conocimiento. En el siguiente ejemplo, tenemos un solo <a href="https://developer.mozilla.org/es/docs/Web/HTML/Elemento/button">``</a>, que cuando se presiona, harÃ¡ que el fondo cambie a un color aleatorio:</p>
<pre class="language-html"><code class="hljs language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">></span></span>Cambiar color<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span></code></pre>
<p>El JavaScript se ve asÃ­:</p>
<pre class="language-js"><code class="hljs language-js"><span class="token keyword">var</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token keyword">function</span> <span class="token function">random</span><span class="token punctuation">(</span><span class="token parameter">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>number<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br>btn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">var</span> rndCol <span class="token operator">=</span> <span class="token string">'rgb('</span> <span class="token operator">+</span> <span class="token function">random</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">','</span> <span class="token operator">+</span> <span class="token function">random</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">','</span> <span class="token operator">+</span> <span class="token function">random</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">')'</span><span class="token punctuation">;</span><br>  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> rndCol<span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>
<p>En este cÃ³digo, almacenamos una referencia al botÃ³n dentro de una variable llamada <code>btn</code>, usando la funciÃ³n <code>Document.querySelector ()</code>. TambiÃ©n definimos una funciÃ³n que devuelve un nÃºmero aleatorio. La tercera parte del cÃ³digo es el controlador de eventos. La variable <code>btn</code> apunta a un elemento , y este tipo de objeto tiene una serie de eventos que pueden activarse y, por lo tanto, los controladores de eventos estÃ¡n disponibles. Estamos escuchando el disparo del evento <code>click</code>, estableciendo la propiedad del controlador de eventos <code>onclick</code> para que sea igual a una funciÃ³n anÃ³nima que contiene cÃ³digo que generÃ³ un color <code>RGB</code> aleatorio y establece el color de fondo igual a este.</p>
<p>Este cÃ³digo ahora se ejecutarÃ¡ cada vez que se active el evento  <code>click</code> en el elemento, es decir, cada vez que un usuario haga clic en Ã©l.</p>
<h2 id="event-loop" tabindex="-1">Event Loop <a class="anchor-link" href="#event-loop"></a></h2>
<p>Antes que nada miremos un dibujo que representa el runtime de v8 (el runtime que usa chrome y node)</p>
<p><img src="/_src/assets/04-Ajax/image-8.png" alt="img"></p>
<p>Como se puede ver en la imagen, el engine consiste de dos elementos principales</p>
<ul>
<li>Memory Heap: es donde se realiza la alocaciÃ³n de memoria</li>
<li>Call Stack: es donde el runtime mantiene un track de las llamadas a las funciones</li>
</ul>
<p>Solo hablaremos de la call stack, que es la que se relaciona con el Event Loop.</p>
<h3 id="call-stack" tabindex="-1">Call Stack <a class="anchor-link" href="#call-stack"></a></h3>
<p>Para los que no sepan un stack (tambiÃ©n llamado pila) es una estructura simple, similar a un arreglo en el que solo se puede agregar items al final (push) , y remover el Ãºltimo (pop).</p>
<p>El proceso que realiza el call stack es simple, cuando se estÃ¡ a punto de ejecutar una funciÃ³n, esta es aÃ±adida al stack. Si la funciÃ³n llama a su vez, a otra funciÃ³n, es agregada sobre la anterior. Si en algÃºn momento de la ejecuciÃ³n hay un error, este se imprimirÃ¡ en la consola con un mensaje y el estado del call stack al momento en que ocurriÃ³.</p>
<p>Javascript es un lenguaje single threaded. Esto quiere decir que durante la ejecuciÃ³n de un script existe un solo thread que ejecuta el cÃ³digo. Por lo tanto solo se cuenta con un call stack</p>
<p>Veamos un ejemplo:</p>
<pre class="language-js"><code class="hljs language-js"><span class="token keyword">function</span> <span class="token function">multiply</span> <span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <br>  <span class="token keyword">return</span> x <span class="token operator">*</span> y<span class="token punctuation">;</span> <br><span class="token punctuation">}</span> <br><br><span class="token keyword">function</span> <span class="token function">printSquare</span> <span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <br>  <span class="token keyword">var</span> s <span class="token operator">=</span> <span class="token function">multiply</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>    <br>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span> <br><span class="token punctuation">}</span> <br><br><span class="token function">printSquare</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p><strong>Los estados del call stack serÃ­an:</strong></p>
<p><img src="/_src/assets/04-Ajax/image-9.png" alt="img"></p>
<p>Y que pasa si tenemos una funciÃ³n de esta manera:</p>
<pre class="language-js"><code class="hljs language-js"><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <br>  <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <br><span class="token punctuation">}</span> <br><br><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p><img src="/_src/assets/04-Ajax/image-10.png" alt="img"></p>
<p>Lo que sucederÃ­a es que en algÃºn momento la cantidad de funciones llamadas excede el tamaÃ±o del stack , por lo que el navegador mostrarÃ¡ este error:</p>
<p><img src="/_src/assets/04-Ajax/image-13.png" alt="img"></p>
<p>Pero quÃ© pasa si llamamos a un timeout o hacemos un request con AJAX a un servidor. Al ser un solo thread, hay un solo call stack y por lo tanto solo se puede ejecutar una cosa a la vez. Es decir el navegador deberÃ­a congelarse, no podrÃ­a hacer mÃ¡s nada, no podrÃ­a renderizar, hasta que la llamada termine de ejecutarse. Sin embargo esto no es asi, javascript es asincrÃ³nico y no bloqueante. Esto es gracias al Event Loop.</p>
<h3 id="event-loop-1" tabindex="-1">Event Loop <a class="anchor-link" href="#event-loop-1"></a></h3>
<p>Algo interesante acerca de javascript, o mejor dicho de los runtimes de javascript, es que no cuentan nativamente con cosas como setTimeout, DOM, o HTTP request. Estas son llamadas web apis, que el mismo navegador provee, pero no estÃ¡n dentro del runtime JS.</p>
<p>Por lo tanto este es el grÃ¡fico que muestra una visiÃ³n mÃ¡s abarcativa de javascript. En este se puede ver el runtime, mÃ¡s las Web APIs y el callback queue del cual hablaremos mÃ¡s adelante.</p>
<p><img src="/_src/assets/04-Ajax/image-11.png" alt="img"></p>
<p>Al haber un solo thread es importante no escribir codigo bloqueante para la UI no quede bloqueada.</p>
<p>Pero Â¿CÃ³mo hacemos para escribir cÃ³digo no bloqueante?</p>
<p>La soluciÃ³n son callbacks asincronicas. Para esto combinamos el uso de callbacks (funciones que pasamos como parÃ¡metros a otras funciones ) con las WEB APIâs.</p>
<p>Por ejemplo:</p>
<pre class="language-js"><code class="hljs language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>âholaâ<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">timeoutCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>âmundoâ<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>âUbykuo<span class="token punctuation">,</span> everytime<span class="token punctuation">,</span> everywhereâ<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token comment">/* <br> * Resultados:<br> * => hola<br> * => Ubykuo, everytime, everywhere<br> * => mundo<br> */</span></code></pre>
<p>Como pueden ver la ejecuciÃ³n no se queda bloqueada en <em>setTimeout()</em> ya que imprime la instrucciÃ³n que le sigue primero) Â¿Pero entonces cÃ³mo es que posible que esto sea asÃ­ si solo existe un solo thread? Â¿ CÃ³mo es que la ejecuciÃ³n continua y al mismo tiempo el setTimeout hace la cuenta regresiva para ejecutar la funciÃ³n pasada como callback?</p>
<p>Esto es porque, como mencione anteriormente, el setTimeout NO es parte del runtime. Sino que es provista por el navegador como WEB APIs ( o en el caso de Node por c++ apis). Los cuales SI se ejecutan en un thread distinto.</p>
<p><strong>Â¿Como se maneja esto con una Ãºnica call stack?</strong></p>
<p>Existe otra estructura donde se guardan las funciones que deben ser ejecutadas luego de cierto evento (timeout, click, mouse move), en el caso del cÃ³digo de ejemplo de arriba se guarda que, cuando el timeout termine se debe ejecutar la funciÃ³n timeoutCallback(). Tener en cuenta que cuando sucede el evento, esta estructura no es la que la ejecuta y tampoco las agrega al call stack ya que sino podrÃ­a pasar que la funciÃ³n se ejecutarÃ¡ en medio de otro cÃ³digo. Lo que hace es enviarla a la Callback Queue.</p>
<p>Lo que hace el event loop es fijarse el call stack, y si estÃ¡ vacÃ­o (es decir no hay nada ejecutandose) envÃ­a la primera funciÃ³n que estÃ© en la callback queue al call stack y comienza a ejecutarse.</p>
<p>Luego de terminar la cuenta regresiva del setTimeout() (que no es ejecutada en el runtime de javascript), timeoutCallback() serÃ¡ enviada a la callback queue. El event loop chequeara el Call Stack, si este estÃ¡ vacÃ­o enviarÃ¡ timeoutCallback() al call stack para su ejecuciÃ³n.</p>
<p>El flujo en imÃ¡genes de todo este trabalenguas seria:</p>
<p><img src="/_src/assets/04-Ajax/image-12.gif" alt="img"></p>
<p>De esta manera se logra que el cÃ³digo sea no bloqueante, en vez de un setTimeout podrÃ­a ser una llamada a un servidor, en donde habrÃ­a que esperar que se procese nuestra solicitud y nos envÃ­e una respuesta , el cual serÃ­a tiempo ocioso si no contÃ¡ramos con callbacks asincronicas, de modo que el runtime pueda seguir con otro cÃ³digo. Una vez que la respuesta haya llegado del servidor y Call Stack estÃ© vacÃ­o, se podrÃ¡ procesar la respuesta (mediante la funciÃ³n pasada como callback ) y hacer algo con ella , por ejemplo mostrarla al usuario.</p>
<p>Este video explica muy bien el Event Loop <a href="https://www.youtube.com/watch?v=8aGhZQkoFbQ">https://www.youtube.com/watch?v=8aGhZQkoFbQ</a></p>
<p><strong>Â¿Por que si bloqueamos el call stack la ui ya no responde mÃ¡s?</strong></p>
<p>Esto se debe a que el navegador intenta realizar un proceso de renderizado cada cierto tiempo. Pero este no puede realizarse si hay cÃ³digo en el stack. El proceso de renderizado es similar a una callback asincrÃ³nica , ya que debe esperar a que el stack estÃ¡ vacÃ­o, es como una funciÃ³n mÃ¡s en la Callback Queue (aunque con cierta prioridad). Por lo que sÃ­ hay codigo bloqueante , el proceso de renderizado tardarÃ¡ mÃ¡s en realizarse y el usuario no podrÃ¡ hacer nada, no podrÃ¡ seleccionar texto, no podra ingresar texto, no podrÃ¡ apretar un botÃ³n.</p>
<p>Â¿Que pasaria si a un usuario que interactuando con nuestra pÃ¡gina le sucediera esto?</p>
<p>Lo mÃ¡s probable es que cierre el navegador y nunca mÃ¡s vuelva a entrar a nuestra pÃ¡gina. No es algo que queremos que suceda.</p>
<h2 id="homework" tabindex="-1">Homework <a class="anchor-link" href="#homework"></a></h2>
<p>Completa la tarea descrita en el archivo <a href="https://github.com/soyHenry/FT-M2/blob/master/04-Ajax/homework/README.md">README</a></p>

        </div>

      </main>

      
        <div class="feedback">
          <a href='https://airtable.com/shrHsDa2eamWqLAre?prefill_clase=04-Ajax' target="_blank">
          Dejanos tu feedback!ð
        </a>
        </div>
      

      <div class="footerContainer">
        <div class="footerContained">
          <p>Hecho con ð por alumnos de Henry</p>
        </div>
      </div>

      <div class="readerBarDiv">
        
  <!-- up button -->
  <div>
    <button
      id="upBtn"
      style="position:fixed; width:32px; height:32px; border-radius:50%; border:none; background-color:black; right:20px; bottom:55px; color:white; z-index:999; focus:outline-none; cursor:pointer; transition-duration:500ms; opacity:0; pointer-events:none;"
    ><i class="arrow up"></i></button>
  </div>
  
  <style>
  .arrow {
    border: solid white;
    border-width: 0 3px 3px 0;
    display: inline-block;
    padding: 3px;
  }

  .up {
    transform: rotate(-135deg);
    -webkit-transform: rotate(-135deg);
  }
  </style>

  <script>
  window.addEventListener('scroll', () => {
    if (window.scrollY > 250) {
      upBtn.style.opacity = 1;
      upBtn.style.pointerEvents = 'auto';     
    }
    else {
      upBtn.style.opacity = 0;
      upBtn.style.pointerEvents = 'none';
    }
  })

  upBtn.addEventListener('click', () => {
    let start = document.querySelector('.reader-bar-start')
    start.scrollIntoView({behavior: "smooth"})
  })
  </script>

  <!-- reader bar -->
  <div id="readerBarContainer" style="height:3px;width:100%;background-color:black;position:fixed;top:66px;left:0;z-index:1099;transition:0.2s;">
    <div id="readerBar" style="height:3px;width:0;background-color:yellow;position:fixed;top:66px;left:0;z-index:1099;transition:0.2s;"></div>
  </div>

  <script>
    let winH = window.innerHeight;
    const content = document.querySelector('.reader-bar-start');

    let contentH = content.offsetHeight;
    let contentS = contentH - winH;
    let readerBar = document.getElementById('readerBar');
    window.addEventListener('load', () => {
      document.addEventListener ('scroll', updateBar);
    })
    window.addEventListener('resize', redefine)

    function redefine() {
      winH = window.innerHeight;
      contentH = content.offsetHeight;
      contentS = contentH - winH;
      updateBar();
    }

    function updateBar() {
      const pagePos = window.scrollY; 
      const updatedBar = pagePos * 100 / contentS;
      readerBar.style.width = updatedBar + "%";
    }
  </script>
  
      </div>

    </body>
  </html>