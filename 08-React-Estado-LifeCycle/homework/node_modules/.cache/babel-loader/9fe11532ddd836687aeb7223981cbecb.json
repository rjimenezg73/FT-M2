{"ast":null,"code":"var _jsxFileName = \"/Users/macbook/Desktop/FT-29c/FT-M2/08-React-Estado-LifeCycle/homework/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport './styles/App.css';\nimport Nav from './components/Nav';\nimport Cards from './components/Cards'; // import data from './data.js'\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  //   // A partir de aquí según M\n  const [cities, setCities] = useState([]); //   // cities = []\n  //   // setCities = f(que actualiza el estado)\n\n  function onClose(id) {\n    setCities(oldCities => oldCities.filter(c => c.id !== id));\n  }\n\n  function onSearch(city) {\n    const apiKey = '4ae2636d8dfbdc3044bede63951a019b';\n    fetch(`http://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${apiKey}&units=metric`).then(response => response.json()).then(response_json => {\n      if (response_json.main !== undefined) {\n        // A trabajar\n        const city = {\n          min: Math.round(response_json.main.temp_min),\n          max: Math.round(response_json.main.temp_max),\n          id: response_json.id,\n          img: response_json.weather[0].icon,\n          wind: response_json.wind.speed,\n          temp: response_json.main.temp,\n          name: response_json.name,\n          weather: response_json.weather[0].main,\n          clouds: response_json.clouds.all,\n          latitud: response_json.coord.lat,\n          longitud: response_json.coord.lon\n        };\n        setCities(oldCities => [...oldCities, city]);\n      } else {\n        alert('Ciudad no encontrada');\n      }\n    });\n  }\n\n  ;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Nav, {\n        onSearch: onSearch // Se pasa la función, no la invocación a la unción\n\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 10\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 8\n    }, this), /*#__PURE__*/_jsxDEV(\"diV\", {\n      children: /*#__PURE__*/_jsxDEV(Cards, {\n        cities: cities //cities={data}\n        ,\n        onClose: onClose\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 10\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 8\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 6\n  }, this);\n}\n\n_s(App, \"f1nPJs+hrTaAy6BEqAnKgJLvJt4=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","Nav","Cards","App","cities","setCities","onClose","id","oldCities","filter","c","onSearch","city","apiKey","fetch","then","response","json","response_json","main","undefined","min","Math","round","temp_min","max","temp_max","img","weather","icon","wind","speed","temp","name","clouds","all","latitud","coord","lat","longitud","lon","alert"],"sources":["/Users/macbook/Desktop/FT-29c/FT-M2/08-React-Estado-LifeCycle/homework/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\nimport './styles/App.css';\nimport Nav from './components/Nav';\nimport Cards from './components/Cards';\n// import data from './data.js'\n\n\nfunction App() {\n\n//   // A partir de aquí según M\n   const [cities, setCities] = useState([]);\n//   // cities = []\n//   // setCities = f(que actualiza el estado)\n\n  function onClose (id){\n    setCities(oldCities => \n      oldCities.filter(c => c.id !== id))\n  }\n\n  \n  function onSearch(city){\n    const apiKey = '4ae2636d8dfbdc3044bede63951a019b';\n    \n    fetch(`http://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${apiKey}&units=metric`)\n       .then(response => response.json())\n       .then(response_json => {\n         if(response_json.main !== undefined){\n           // A trabajar\n         \n           const city = {\n             min: Math.round(response_json.main.temp_min),\n             max: Math.round(response_json.main.temp_max),\n             id: response_json.id,\n             img: response_json.weather[0].icon,\n             wind: response_json.wind.speed,\n             temp: response_json.main.temp,\n             name: response_json.name,\n             weather: response_json.weather[0].main,\n             clouds: response_json.clouds.all,\n             latitud: response_json.coord.lat,\n             longitud: response_json.coord.lon,\n           }\n           setCities(oldCities => [...oldCities,city]);\n          } else{\n             alert('Ciudad no encontrada');\n          }\n       })\n   };\n\n\n   return (\n     <div className=\"App\">\n       <div>\n\n         <Nav\n          onSearch={onSearch}\n           // Se pasa la función, no la invocación a la unción\n         />\n       </div>\n      \n       <diV>\n         <Cards \n            cities={cities}\n            //cities={data}\n            onClose={onClose}\n         />\n       </diV>\n\n     </div>\n   );\n }\n\n export default App;"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAO,kBAAP;AACA,OAAOC,GAAP,MAAgB,kBAAhB;AACA,OAAOC,KAAP,MAAkB,oBAAlB,C,CACA;;;;AAGA,SAASC,GAAT,GAAe;EAAA;;EAEf;EACG,MAAM,CAACC,MAAD,EAASC,SAAT,IAAsBL,QAAQ,CAAC,EAAD,CAApC,CAHY,CAIf;EACA;;EAEE,SAASM,OAAT,CAAkBC,EAAlB,EAAqB;IACnBF,SAAS,CAACG,SAAS,IACjBA,SAAS,CAACC,MAAV,CAAiBC,CAAC,IAAIA,CAAC,CAACH,EAAF,KAASA,EAA/B,CADO,CAAT;EAED;;EAGD,SAASI,QAAT,CAAkBC,IAAlB,EAAuB;IACrB,MAAMC,MAAM,GAAG,kCAAf;IAEAC,KAAK,CAAE,oDAAmDF,IAAK,UAASC,MAAO,eAA1E,CAAL,CACIE,IADJ,CACSC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADrB,EAEIF,IAFJ,CAESG,aAAa,IAAI;MACrB,IAAGA,aAAa,CAACC,IAAd,KAAuBC,SAA1B,EAAoC;QAClC;QAEA,MAAMR,IAAI,GAAG;UACXS,GAAG,EAAEC,IAAI,CAACC,KAAL,CAAWL,aAAa,CAACC,IAAd,CAAmBK,QAA9B,CADM;UAEXC,GAAG,EAAEH,IAAI,CAACC,KAAL,CAAWL,aAAa,CAACC,IAAd,CAAmBO,QAA9B,CAFM;UAGXnB,EAAE,EAAEW,aAAa,CAACX,EAHP;UAIXoB,GAAG,EAAET,aAAa,CAACU,OAAd,CAAsB,CAAtB,EAAyBC,IAJnB;UAKXC,IAAI,EAAEZ,aAAa,CAACY,IAAd,CAAmBC,KALd;UAMXC,IAAI,EAAEd,aAAa,CAACC,IAAd,CAAmBa,IANd;UAOXC,IAAI,EAAEf,aAAa,CAACe,IAPT;UAQXL,OAAO,EAAEV,aAAa,CAACU,OAAd,CAAsB,CAAtB,EAAyBT,IARvB;UASXe,MAAM,EAAEhB,aAAa,CAACgB,MAAd,CAAqBC,GATlB;UAUXC,OAAO,EAAElB,aAAa,CAACmB,KAAd,CAAoBC,GAVlB;UAWXC,QAAQ,EAAErB,aAAa,CAACmB,KAAd,CAAoBG;QAXnB,CAAb;QAaAnC,SAAS,CAACG,SAAS,IAAI,CAAC,GAAGA,SAAJ,EAAcI,IAAd,CAAd,CAAT;MACA,CAjBF,MAiBO;QACH6B,KAAK,CAAC,sBAAD,CAAL;MACF;IACH,CAvBJ;EAwBA;;EAAA;EAGD,oBACE;IAAK,SAAS,EAAC,KAAf;IAAA,wBACE;MAAA,uBAEE,QAAC,GAAD;QACC,QAAQ,EAAE9B,QADX,CAEE;;MAFF;QAAA;QAAA;QAAA;MAAA;IAFF;MAAA;MAAA;MAAA;IAAA,QADF,eASE;MAAA,uBACE,QAAC,KAAD;QACG,MAAM,EAAEP,MADX,CAEG;QAFH;QAGG,OAAO,EAAEE;MAHZ;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QATF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAoBD;;GA/DOH,G;;KAAAA,G;AAiER,eAAeA,GAAf"},"metadata":{},"sourceType":"module"}