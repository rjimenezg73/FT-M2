{"ast":null,"code":"import _toConsumableArray from \"/Users/macbook/Desktop/FT-29c/FT-M2/08-React-Estado-LifeCycle/homework/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/Users/macbook/Desktop/FT-29c/FT-M2/08-React-Estado-LifeCycle/homework/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/macbook/Desktop/FT-29c/FT-M2/08-React-Estado-LifeCycle/homework/src/App.js\";\nimport React, { useState } from 'react';\nimport './styles/App.css';\nimport Nav from './components/Nav';\nimport Cards from './components/Cards'; // import data from './data.js'\n\nfunction App() {\n  //   // A partir de aquí según M\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      cities = _useState2[0],\n      setCities = _useState2[1]; //   // cities = []\n  //   // setCities = f(que actualiza el estado)\n\n\n  function onClose(id) {\n    setCities(function (oldCities) {\n      return oldCities.filter(function (c) {\n        return c.id !== id;\n      });\n    });\n  }\n\n  function onSearch(city) {\n    var apiKey = '4ae2636d8dfbdc3044bede63951a019b';\n    fetch(\"http://api.openweathermap.org/data/2.5/weather?q=\".concat(city, \"&appid=\").concat(apiKey, \"&units=metric\")).then(function (response) {\n      return response.json();\n    }).then(function (response_json) {\n      if (response_json.main !== undefined) {\n        // A trabajar\n        var _city = {\n          min: Math.round(response_json.main.temp_min),\n          max: Math.round(response_json.main.temp_max),\n          id: response_json.id,\n          img: response_json.weather[0].icon,\n          wind: response_json.wind.speed,\n          temp: response_json.main.temp,\n          name: response_json.name,\n          weather: response_json.weather[0].main,\n          clouds: response_json.clouds.all,\n          latitud: response_json.coord.lat,\n          longitud: response_json.coord.lon\n        };\n        setCities(function (oldCities) {\n          return [].concat(_toConsumableArray(oldCities), [_city]);\n        });\n      } else {\n        alert('Ciudad no encontrada');\n      }\n    });\n  }\n\n  ;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(Nav, {\n    onSearch: onSearch // Se pasa la función, no la invocación a la unción\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 10\n    }\n  })), /*#__PURE__*/React.createElement(\"diV\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(Cards, {\n    cities: cities //cities={data}\n    ,\n    onClose: onClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 10\n    }\n  })));\n}\n\nexport default App;","map":{"version":3,"names":["React","useState","Nav","Cards","App","cities","setCities","onClose","id","oldCities","filter","c","onSearch","city","apiKey","fetch","then","response","json","response_json","main","undefined","min","Math","round","temp_min","max","temp_max","img","weather","icon","wind","speed","temp","name","clouds","all","latitud","coord","lat","longitud","lon","alert"],"sources":["/Users/macbook/Desktop/FT-29c/FT-M2/08-React-Estado-LifeCycle/homework/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\nimport './styles/App.css';\nimport Nav from './components/Nav';\nimport Cards from './components/Cards';\n// import data from './data.js'\n\n\nfunction App() {\n\n//   // A partir de aquí según M\n   const [cities, setCities] = useState([]);\n//   // cities = []\n//   // setCities = f(que actualiza el estado)\n\n  function onClose (id){\n    setCities(oldCities => \n      oldCities.filter(c => c.id !== id))\n  }\n\n  \n  function onSearch(city){\n    const apiKey = '4ae2636d8dfbdc3044bede63951a019b';\n    \n    fetch(`http://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${apiKey}&units=metric`)\n       .then(response => response.json())\n       .then(response_json => {\n         if(response_json.main !== undefined){\n           // A trabajar\n         \n           const city = {\n             min: Math.round(response_json.main.temp_min),\n             max: Math.round(response_json.main.temp_max),\n             id: response_json.id,\n             img: response_json.weather[0].icon,\n             wind: response_json.wind.speed,\n             temp: response_json.main.temp,\n             name: response_json.name,\n             weather: response_json.weather[0].main,\n             clouds: response_json.clouds.all,\n             latitud: response_json.coord.lat,\n             longitud: response_json.coord.lon,\n           }\n           setCities(oldCities => [...oldCities,city]);\n          } else{\n             alert('Ciudad no encontrada');\n          }\n       })\n   };\n\n\n   return (\n     <div className=\"App\">\n       <div>\n\n         <Nav\n          onSearch={onSearch}\n           // Se pasa la función, no la invocación a la unción\n         />\n       </div>\n      \n       <diV>\n         <Cards \n            cities={cities}\n            //cities={data}\n            onClose={onClose}\n         />\n       </diV>\n\n     </div>\n   );\n }\n\n export default App;"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAO,kBAAP;AACA,OAAOC,GAAP,MAAgB,kBAAhB;AACA,OAAOC,KAAP,MAAkB,oBAAlB,C,CACA;;AAGA,SAASC,GAAT,GAAe;EAEf;EAFe,gBAGgBH,QAAQ,CAAC,EAAD,CAHxB;EAAA;EAAA,IAGLI,MAHK;EAAA,IAGGC,SAHH,kBAIf;EACA;;;EAEE,SAASC,OAAT,CAAkBC,EAAlB,EAAqB;IACnBF,SAAS,CAAC,UAAAG,SAAS;MAAA,OACjBA,SAAS,CAACC,MAAV,CAAiB,UAAAC,CAAC;QAAA,OAAIA,CAAC,CAACH,EAAF,KAASA,EAAb;MAAA,CAAlB,CADiB;IAAA,CAAV,CAAT;EAED;;EAGD,SAASI,QAAT,CAAkBC,IAAlB,EAAuB;IACrB,IAAMC,MAAM,GAAG,kCAAf;IAEAC,KAAK,4DAAqDF,IAArD,oBAAmEC,MAAnE,mBAAL,CACIE,IADJ,CACS,UAAAC,QAAQ;MAAA,OAAIA,QAAQ,CAACC,IAAT,EAAJ;IAAA,CADjB,EAEIF,IAFJ,CAES,UAAAG,aAAa,EAAI;MACrB,IAAGA,aAAa,CAACC,IAAd,KAAuBC,SAA1B,EAAoC;QAClC;QAEA,IAAMR,KAAI,GAAG;UACXS,GAAG,EAAEC,IAAI,CAACC,KAAL,CAAWL,aAAa,CAACC,IAAd,CAAmBK,QAA9B,CADM;UAEXC,GAAG,EAAEH,IAAI,CAACC,KAAL,CAAWL,aAAa,CAACC,IAAd,CAAmBO,QAA9B,CAFM;UAGXnB,EAAE,EAAEW,aAAa,CAACX,EAHP;UAIXoB,GAAG,EAAET,aAAa,CAACU,OAAd,CAAsB,CAAtB,EAAyBC,IAJnB;UAKXC,IAAI,EAAEZ,aAAa,CAACY,IAAd,CAAmBC,KALd;UAMXC,IAAI,EAAEd,aAAa,CAACC,IAAd,CAAmBa,IANd;UAOXC,IAAI,EAAEf,aAAa,CAACe,IAPT;UAQXL,OAAO,EAAEV,aAAa,CAACU,OAAd,CAAsB,CAAtB,EAAyBT,IARvB;UASXe,MAAM,EAAEhB,aAAa,CAACgB,MAAd,CAAqBC,GATlB;UAUXC,OAAO,EAAElB,aAAa,CAACmB,KAAd,CAAoBC,GAVlB;UAWXC,QAAQ,EAAErB,aAAa,CAACmB,KAAd,CAAoBG;QAXnB,CAAb;QAaAnC,SAAS,CAAC,UAAAG,SAAS;UAAA,oCAAQA,SAAR,IAAkBI,KAAlB;QAAA,CAAV,CAAT;MACA,CAjBF,MAiBO;QACH6B,KAAK,CAAC,sBAAD,CAAL;MACF;IACH,CAvBJ;EAwBA;;EAAA;EAGD,oBACE;IAAK,SAAS,EAAC,KAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAEE,oBAAC,GAAD;IACC,QAAQ,EAAE9B,QADX,CAEE;IAFF;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAFF,CADF,eASE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE,oBAAC,KAAD;IACG,MAAM,EAAEP,MADX,CAEG;IAFH;IAGG,OAAO,EAAEE,OAHZ;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EADF,CATF,CADF;AAoBD;;AAED,eAAeH,GAAf"},"metadata":{},"sourceType":"module"}